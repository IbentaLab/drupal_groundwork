{# ------------------------------------------------------------------------
  Block template override for the **Main Menu** (machine name: main)
  ------------------------------------------------------------------------
  • Adds an inline SVG hamburger toggle (hidden ≥64 em by CSS).
  • Works with `css/framework-core-overrides/main-menu.css` and
    `js/groundwork-main-menu.js`.
  ------------------------------------------------------------------------
  Save as: templates/navigation/block--system-menu-block--main.html.twig
#}

{% set classes = [
  'block',
  'block-menu',
  'navigation',
  'menu--' ~ derivative_plugin_id|clean_class,
  'grid-cell'
] %}

{% set heading_id = attributes.id ~ '-menu'|clean_id %}
<nav
  role="navigation"
  aria-labelledby="{{ heading_id }}"
  {{ attributes.addClass(classes)|without('role','aria-labelledby') }}>

  {# Title (visually hidden if label_display = false) #}
  {% if not configuration.label_display %}
    {% set title_attributes = title_attributes.addClass('visually-hidden') %}
  {% endif %}

  {{ title_prefix }}
  <h2 {{ title_attributes.setAttribute('id', heading_id) }}>
    {{ configuration.label }}
  </h2>
  {{ title_suffix }}

  {# Hamburger toggle button #}
  <button class="gw-menu-toggle" type="button"
          aria-controls="main-menu-list" aria-expanded="false">
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M3 6h18M3 12h18M3 18h18"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" />
    </svg>
    <span class="visually-hidden">{{ 'Menu'|t }}</span>
  </button>

  {# Render the menu tree #}
  {% block content %}
    {{ content }}
  {% endblock %}
</nav>
