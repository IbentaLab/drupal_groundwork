/* ==========================================================================
   Page Layout Shell
   ========================================================================== */

/* This makes the entire page at least the height of the screen */
.page-wrapper {
  display: flex;
  flex-direction: column;
  min-height: calc(100vh - var(--drupal-displace-offset-top, 0px));
  min-width: 32rem; /* Optional: Sets a minimum width for your page */
}

/* Match when the class list starts with layout- */
[class^="layout-"] {
  padding-block: var(--space-md);
}

[class^="layout-"]:first-child {
  padding-top: 0;
}

@media screen and (min-width: 1024px) {
  [class^="layout-"] {
    padding-block: var(--space-lg);
  }
  [class^="layout-"]:first-child {
    padding-top: 0;
  }
}

/* This tells the main content area to grow and push the footer down */
.layout-main {
  flex-grow: 1;
}

/* ==========================================================================
   Dynamic Main Content Layout (with CSS Variables)
   ========================================================================== */

.main__container {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 1.5rem;

  /*
   * Define variables for sidebar widths at each breakpoint.
   * These are set via inline styles from your Twig template.
   * Defaults to 0 if a variable isn't set.
  */
  --sf-cols: var(--sf-width-s, 0);
  --sc-cols: var(--sc-width-s, 0);
}

@media (min-width: 768px) {
  .main__container {
    --sf-cols: var(--sf-width-md, var(--sf-width-s, 0));
    --sc-cols: var(--sc-width-md, var(--sc-width-s, 0));
  }
}

@media (min-width: 1024px) {
  .main__container {
    --sf-cols: var(--sf-width-lg, var(--sf-width-md, var(--sf-width-s, 0)));
    --sc-cols: var(--sc-width-lg, var(--sc-width-md, var(--sc-width-s, 0)));
  }
}

/* --- Layout Calculations --- */
.main__sidebar--first {
  grid-column: span var(--sf-cols, 0);
  order: -1; /* Ensures it's always on the left visually */
}

.main__sidebar--second {
  /* Starts from the right edge and spans leftwards */
  grid-column: calc(13 - var(--sc-cols, 0)) / -1;
}

.main__content {
  /* Dynamically fills the space between the two sidebars */
  grid-column: calc(1 + var(--sf-cols, 0)) / calc(13 - var(--sc-cols, 0));
}

/* ==========================================================================
   Container Modes for Top Level Regions and Main Section
   ========================================================================== */

.main__container,
.region.grid {
  /*
 * This class is added when the user selects 'Full Width' in Theme Settings. It removes the
 * max-width, allowing the grid to span the full viewport.
 */
  &:is(.is-contained) {
    max-width: 1024px;
    margin-inline: auto;
  }

  /*
 * This class is added when the user selects 'Full Width' in Theme Settings. It removes the
 * max-width, allowing the grid to span the full viewport.
 */
  &:is(.is-full-width) {
    max-width: none;
  }
}



/* ==========================================================================
   Region Header Layout
   ========================================================================== */

/**
 * The .region-header also has the .grid class applied via Twig.
 * This rule vertically centers the grid cells (the blocks) within the header.
 */
.region-header.grid {
  align-items: center;
  min-height: var(--nav-height, 6rem); /* Ensure a minimum height for the header. */
}

/* ==========================================================================
   Site Footer Legal Section
   ========================================================================== */

.site-footer__legal {
  grid-column: 1 / -1;
  grid-row: span 1;
  box-sizing: border-box;
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  color: var(--color-text);

  font-size: var(--ms-sm);
  text-align: center;
}

.site-footer__legal a {
  color: var(--color-text);
  text-decoration: underline;
}

.site-footer__legal a:hover {
  text-decoration: none;
}
