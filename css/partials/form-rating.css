/* ===================================================================
   FORM RATING COMPONENT
   Star/numeric rating component with interactive and display modes.
   ===================================================================

   Variants supported:
   üé® Color: primary, secondary, info, notice, success, danger, warning, muted
   üìè Size: xs, sm, md, lg, xl, xxl
   ‚ú≥Ô∏è State: is-invalid, is-valid, is-disabled, is-readonly
   üß† Type: star, numeric, emoji, hearts, thumbs
   üîÑ Layout: compact, inline, with-value
   üî¢ Scale: 5, 10, 100
*/

.form-rating {
  /* --- Component Variables --- */
  --rating-item-size: var(--ms-md);
  --rating-item-gap: var(--space-xs);
  --rating-color-empty: var(--color-muted-light);
  --rating-color-filled: var(--color-warning);

  /* --- Base Container Styles --- */
  display: inline-flex;
  align-items: center;
}

.form-rating__group {
  display: flex;
  gap: var(--rating-item-gap);
}

.form-rating__input {
  /* Hide the actual radio inputs */
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.form-rating__label {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--rating-item-size);
  height: var(--rating-item-size);
  cursor: pointer;
  color: var(--rating-color-empty);
  transition: color var(--duration-short), transform var(--duration-short);
}

/* Star rating hover effect */
.form-rating__input:checked ~ .form-rating__label {
  color: var(--rating-color-empty);
}

.form-rating__input:checked + .form-rating__label {
  color: var(--rating-color-filled);
}

.form-rating__label:hover,
.form-rating__label:hover ~ .form-rating__label {
  color: var(--rating-color-filled);
  transform: scale(1.1);
}

.form-rating__group:hover .form-rating__input:not(:hover) ~ .form-rating__label {
  color: var(--rating-color-empty);
}

/* Display mode (not interactive) */
.form-rating--readonly .form-rating__label {
  cursor: default;
  pointer-events: none;
}

.form-rating--readonly .form-rating__label:nth-child(n+1):nth-child(-n+attr(data-rating)) {
  color: var(--rating-color-filled);
}

/* ===================================================================
   SIZE VARIANTS
   =================================================================== */

.form-rating--xs {
  --rating-item-size: var(--ms-xs);
  --rating-item-gap: calc(var(--space-xs) * 0.5);
}

.form-rating--sm {
  --rating-item-size: var(--ms-sm);
  --rating-item-gap: calc(var(--space-xs) * 0.75);
}

/* MD is the default */

.form-rating--lg {
  --rating-item-size: var(--ms-lg);
  --rating-item-gap: var(--space-sm);
}

.form-rating--xl {
  --rating-item-size: var(--ms-xl);
  --rating-item-gap: var(--space-sm);
}

.form-rating--xxl {
  --rating-item-size: var(--ms-xxl);
  --rating-item-gap: var(--space-md);
}

/* ===================================================================
   COLOR VARIANTS
   =================================================================== */

.form-rating--primary {
  --rating-color-filled: var(--color-primary);
}

.form-rating--secondary {
  --rating-color-filled: var(--color-secondary);
}

.form-rating--info {
  --rating-color-filled: var(--color-info);
}

.form-rating--notice {
  --rating-color-filled: var(--color-notice);
}

.form-rating--success {
  --rating-color-filled: var(--color-success);
}

.form-rating--danger {
  --rating-color-filled: var(--color-danger);
}

.form-rating--warning {
  --rating-color-filled: var(--color-warning);
}

.form-rating--muted {
  --rating-color-filled: var(--color-muted);
}

/* ===================================================================
   TYPE VARIANTS
   =================================================================== */

/* Star rating is the default */

/* Emoji rating */
.form-rating--emoji .form-rating__label {
  font-family: sans-serif; /* Ensure emoji compatibility */
}

.form-rating--emoji .form-rating__label::before {
  content: "üòê";
}

.form-rating--emoji .form-rating__label:hover::before,
.form-rating--emoji .form-rating__input:checked + .form-rating__label::before {
  content: "üòÄ";
}

/* Hearts rating */
.form-rating--hearts .form-rating__label::before {
  content: "‚ô°";
}

.form-rating--hearts .form-rating__label:hover::before,
.form-rating--hearts .form-rating__input:checked + .form-rating__label::before {
  content: "‚ô•";
}

/* Thumbs rating (up/down only) */
.form-rating--thumbs .form-rating__group {
  gap: var(--space-md);
}

.form-rating--thumbs .form-rating__label:first-of-type::before {
  content: "üëç";
}

.form-rating--thumbs .form-rating__label:last-of-type::before {
  content: "üëé";
}

/* Numeric rating */
.form-rating--numeric .form-rating__label {
  counter-increment: rating;
  width: 1.5em; /* Wider to fit numbers */
}

.form-rating--numeric .form-rating__label::before {
  content: counter(rating);
}

/* ===================================================================
   LAYOUT VARIANTS
   =================================================================== */

/* Compact layout with less spacing */
.form-rating--compact {
  --rating-item-gap: 0;
}

/* Display rating value */
.form-rating--with-value {
  gap: var(--space-sm);
}

.form-rating__value {
  font-size: var(--ms-sm);
  font-weight: 500;
  color: var(--color-text);
}

/* ===================================================================
   SCALE VARIANTS
   =================================================================== */

/* 5-star is default */

/* 10-point scale */
.form-rating--scale-10 .form-rating__group {
  counter-reset: rating;
}

.form-rating--scale-10 .form-rating__label {
  counter-increment: rating;
  width: 1.5em;
}

.form-rating--scale-10 .form-rating__label::before {
  content: counter(rating);
}

/* Percentage scale (1-100) */
.form-rating--scale-100 {
  position: relative;
}

.form-rating--scale-100 .form-rating__group {
  flex: 1;
}

.form-rating--scale-100 .form-rating__slider {
  -webkit-appearance: none;
  width: 100%;
  height: var(--space-sm);
  background: var(--color-surface);
  border-radius: var(--radius-full);
  outline: none;
}

.form-rating--scale-100 .form-rating__slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: var(--space-md);
  height: var(--space-md);
  border-radius: 50%;
  background: var(--rating-color-filled);
  cursor: pointer;
}

.form-rating--scale-100 .form-rating__slider::-moz-range-thumb {
  width: var(--space-md);
  height: var(--space-md);
  border-radius: 50%;
  background: var(--rating-color-filled);
  cursor: pointer;
}
